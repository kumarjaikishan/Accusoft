import{u as M,a as S,r as h,s as b,j as a,m as D,I as E}from"./index-7063079e.js";const I=()=>{const p=M(),x=S(e=>e.userexplist),l=new Date,j=l.getFullYear()+"-"+(l.getMonth()+1)+"-"+l.getUTCDate(),[n,v]=h.useState({date:j,month:l.getMonth(),year:l.getFullYear()}),[r,g]=h.useState({});h.useEffect(()=>{N(),p(b(!1))},[n]);let s={};const N=()=>{x.ledgerlist.forEach(i=>{s[i.ledger]=0}),s.total=0;let e=String(parseInt(n.month)+1).padStart(2,"0");const t=n.year+"-"+e+"-01",d=n.year+"-"+e+"-31";x.explist.forEach(i=>{let{ledger:o,amount:f,date:m}=i;o=o.ledger;const c=parseFloat(f);isNaN(c)||m>=t&&m<=d&&(s.total+=c,s.hasOwnProperty(o)?s[o]+=c:s[o]=c)}),g(s)},y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],u=e=>{let t=e.target.name,d=e.target.value;v(i=>({...i,[t]:d}))};return a.jsx(a.Fragment,{children:a.jsxs(D.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"-100%"},transition:{duration:.2,ease:"easeInOut"},className:"datanalysis",children:[a.jsxs("div",{className:"cont",children:[a.jsxs("span",{children:["Month :  ",a.jsx("select",{onChange:u,name:"month",value:n.month,id:"",children:y.map((e,t)=>a.jsx("option",{value:t,children:e},t))})]}),a.jsxs("span",{children:["Year :  ",a.jsxs("select",{onChange:u,name:"year",value:n.year,id:"",children:[a.jsx("option",{value:"2021",children:"2021"}),a.jsx("option",{value:"2022",children:"2022"}),a.jsx("option",{value:"2023",children:"2023"}),a.jsx("option",{value:"2024",children:"2024"}),a.jsx("option",{value:"2025",children:"2025"})]}),a.jsx(E,{})]})]}),a.jsx("div",{className:"cards",children:Object.entries(r).map(([e,t])=>a.jsxs("div",{className:"card",id:e,children:[a.jsxs("div",{className:"data",children:[a.jsx("div",{className:"amt",children:t}),a.jsx("div",{className:"day",children:e})]}),a.jsx("div",{className:"icon",children:a.jsx("div",{className:"cir",style:{background:`conic-gradient(#034972 ${isNaN(Math.floor(t/r.total*100))?0:Math.floor(t/r.total*100)*3.6}deg,  #afbbcb  10.8deg)`},children:a.jsxs("div",{className:"per",children:[" ",isNaN(Math.floor(t/r.total*100))?0:Math.floor(t/r.total*100)," %"]})})})]},e))})]})})};export{I as default};
