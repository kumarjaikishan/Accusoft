import{r as j,u as g,a as f,b,d as r,c as Y,j as e,B as M}from"./index-TeJbZjp_.js";const S=()=>{const[d,m]=j.useState([]),{id:i}=g(),[h]=f(),u=b(),o=h.get("ledgerName"),l=h.get("month"),p=(Number(l)+1).toString(),x=r(p).format("MMMM"),a=h.get("year"),{explist:c}=Y(s=>s.userexplist);j.useEffect(()=>{if(c){let s;i=="all"?s=c.filter(t=>{const n=r(t.date);return n.month()===Number(l)&&n.year()===Number(a)}):s=c.filter(t=>{const n=r(t.date);return t.ledger._id===i&&n.month()===Number(l)&&n.year()===Number(a)}),m(s)}},[c,i,l,a]);const N=s=>r(s).format("DD-MMM-YY");return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"ledgerdetail",children:[e.jsxs("div",{className:"header",children:[e.jsxs("div",{children:[e.jsx("span",{className:"title",children:"Ledger:"})," ",o,e.jsx("span",{className:"title",children:"Month:"})," ",x,e.jsx("span",{className:"title",children:"Year:"})," ",r(a).format("YYYY")]}),e.jsx(M,{size:"small",onClick:()=>u("/datanalysis"),variant:"contained",children:"Return"})]}),e.jsxs("div",{className:"table",id:"printarea",children:[e.jsxs("div",{className:"head",children:[e.jsx("span",{className:"title",children:"Ledger:"})," ",o,e.jsx("span",{className:"title",children:"Month:"})," ",x,e.jsx("span",{className:"title",children:"Year:"})," ",r(a).format("YYYY")]}),e.jsxs("table",{id:"tavlecontent",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"S.no"}),e.jsx("th",{children:"Ledger"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Narration"}),e.jsx("th",{children:"Date"})]})}),e.jsxs("tbody",{children:[d.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,children:e.jsx("b",{children:"No Record Found"})})}):d.map((s,t)=>e.jsxs("tr",{children:[e.jsx("td",{children:t+1}),e.jsx("td",{children:s.ledger.ledger}),e.jsx("td",{children:s.amount}),e.jsx("td",{children:s.narration}),e.jsx("td",{children:N(s.date)})]},t)),d.length>0&&e.jsxs("tr",{children:[e.jsx("td",{colSpan:2,children:e.jsx("b",{children:"Total"})}),e.jsxs("td",{children:[" ",e.jsxs("b",{children:[d.reduce((s,t)=>s+t.amount,0)," "]})]}),e.jsx("td",{colSpan:2})]})]})]})]})]})})};export{S as default};
